generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["fullTextSearchPostgres", "postgresqlExtensions"]
}

datasource db {
  provider   = "postgresql"
  url        = env("DATABASE_URL")
  extensions = [uuid_ossp(map: "uuid-ossp", schema: "extensions")]
}

/// User accounts with authentication via Clerk
model User {
  id                 String              @id @default(uuid()) @db.Uuid
  email              String              @unique @db.VarChar(255)
  phone              String?             @db.VarChar(20)
  fullName           String?             @map("full_name") @db.VarChar(255)
  firstName          String?             @map("first_name") @db.VarChar(100)
  lastName           String?             @map("last_name") @db.VarChar(100)
  is_active          Boolean?            @default(true)
  imageUrl           String?             @map("image_url")
  college            String?
  yearOfStudy        String?             @map("year_of_study")
  rollNumber         String?             @map("roll_number")
  branch             String?
  startup_name       String?             @db.VarChar(255)
  startup_stage      String?             @db.VarChar(100)
  industry           String?             @db.VarChar(100)
  company_name       String?             @db.VarChar(255)
  designation        String?             @db.VarChar(100)
  company_size       String?             @db.VarChar(50)
  createdAt          DateTime            @default(now()) @map("created_at")
  updatedAt          DateTime            @updatedAt @map("updated_at")
  lastLogin          DateTime?           @map("last_login") @db.Timestamptz(6)
  bookingId          String?             @unique @map("booking_id") @db.VarChar(255)
  bookingVerified    Boolean             @default(false) @map("booking_verified")
  clerkUserId        String?             @unique @map("clerk_user_id") @db.VarChar(255)
  checkIns           CheckIn[]
  eventRegistrations EventRegistration[]
  passes             Pass[]
  transactions       Transaction[]

  @@index([email], type: Hash)
  @@index([phone])
  @@index([clerkUserId], type: Hash)
  @@index([createdAt(sort: Desc)])
  @@map("users")
}

/// Event passes with QR codes and access control
model Pass {
  id                String        @id @default(uuid()) @db.Uuid
  userId            String        @map("user_id") @db.Uuid
  passType          String        @map("pass_type") @db.VarChar(50)
  passId            String        @unique @map("pass_id") @db.VarChar(100)
  bookingId         String?       @map("booking_id") @db.VarChar(255)
  konfhubTicketId   String?       @map("konfhub_ticket_id") @db.VarChar(255)
  konfhubOrderId    String?       @map("konfhub_order_id") @db.VarChar(255)
  price             Decimal?      @db.Decimal(10, 2)
  purchaseDate      DateTime?     @map("purchase_date") @db.Timestamptz(6)
  ticketDetails     Json?         @map("ticket_details")
  status            String        @default("Active")
  qrCodeUrl         String?       @map("qr_code_url")
  qrCodeData        String?       @map("qr_code_data")
  pdfUrl            String?       @map("pdf_url")
  hasWorkshopAccess Boolean?      @map("has_workshop_access")
  createdAt         DateTime      @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt         DateTime      @updatedAt @map("updated_at") @db.Timestamptz(6)
  checkIns          CheckIn[]
  transaction       Transaction?
  user              User          @relation(fields: [userId], references: [id], onDelete: Cascade)
  eventRegistrations EventRegistration[]

  @@index([userId])
  @@index([passId], type: Hash)
  @@index([konfhubTicketId])
  @@index([status])
  @@index([passType])
  @@map("passes")
}

/// Payment transactions for passes (handled by KonfHub)
model Transaction {
  id                String   @id @default(uuid()) @db.Uuid
  userId            String   @map("user_id") @db.Uuid
  passId            String?  @unique @map("pass_id") @db.Uuid
  invoiceNumber     String?  @unique @map("invoice_number") @db.VarChar(100)
  transactionNumber String?  @unique @map("transaction_number") @db.VarChar(100)
  amount            Decimal  @db.Decimal(10, 2)
  currency          String   @default("INR") @db.VarChar(10)
  status            String   @default("pending") @db.VarChar(50)
  paymentMethod     String?  @default("konfhub") @map("payment_method") @db.VarChar(50)
  konfhubOrderId    String?  @map("konfhub_order_id") @db.VarChar(255)
  konfhubTicketId   String?  @map("konfhub_ticket_id") @db.VarChar(255)
  konfhubPaymentId  String?  @map("konfhub_payment_id") @db.VarChar(255)
  metadata          Json?
  createdAt         DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt         DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)
  pass              Pass?    @relation(fields: [passId], references: [id], onDelete: SetNull)
  user              User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([passId])
  @@index([status])
  @@index([konfhubOrderId])
  @@map("transactions")
}

/// Events and competitions at E-Summit
model Event {
  id                   String              @id @default(uuid()) @db.Uuid
  title                String              @db.VarChar(255)
  description          String?
  category             String              @db.VarChar(100)
  date                 DateTime            @db.Date
  startTime            DateTime            @db.Time(6)
  endTime              DateTime            @db.Time(6)
  venue                String              @db.VarChar(255)
  prizeAmount          Decimal?            @map("prize_amount") @db.Decimal(12, 2)
  eligibility          String?
  rules                Json?
  judges               Json?
  prerequisites        String?
  registrationDeadline DateTime?           @map("registration_deadline") @db.Timestamptz(6)
  speakerName          String?             @map("speaker_name") @db.VarChar(255)
  speakerBio           String?             @map("speaker_bio")
  speakerImageUrl      String?             @map("speaker_image_url")
  maxParticipants      Int?                @map("max_participants")
  status               String              @default("upcoming") @db.VarChar(50)
  createdAt            DateTime            @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt            DateTime            @updatedAt @map("updated_at") @db.Timestamptz(6)
  eventId              String?             @unique @map("event_id") @db.VarChar(100)
  checkIns             CheckIn[]
  registrations        EventRegistration[]

  @@index([category])
  @@index([date])
  @@index([status])
  @@index([eventId], type: Hash)
  @@index([date, startTime])
  @@map("events")
}

/// Event registrations with team support
model EventRegistration {
  id                  String   @id @default(uuid()) @db.Uuid
  userId              String   @map("user_id") @db.Uuid
  eventId             String   @map("event_id") @db.Uuid
  passId              String?  @map("pass_id") @db.Uuid
  registrationDate    DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status              String   @default("registered") @db.VarChar(50)
  formData            Json?    @map("form_data")
  createdAt           DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt           DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)
  event               Event    @relation(fields: [eventId], references: [id], onDelete: Cascade)
  user                User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  pass                Pass?    @relation(fields: [passId], references: [id], onDelete: SetNull)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("event_registrations")
}

/// Ten Minute Million Event Participants
model TenMinuteMillionParticipant {
  id                     String   @id @default(uuid()) @db.Uuid
  userId                 String   @map("user_id") @db.Uuid
  eventId                String   @map("event_id") @db.Uuid
  passId                 String?  @map("pass_id") @db.Uuid
  registrationDate       DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status                 String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName               String?  @map("full_name") @db.VarChar(255)
  email                  String   @map("email") @db.VarChar(255)
  phone                  String?  @map("phone") @db.VarChar(20)
  college                String?  @map("college") @db.VarChar(255)
  userType               String?  @map("user_type") @db.VarChar(50)
  userStartupName        String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage       String?  @map("user_startup_stage") @db.VarChar(100)
  companyName            String?  @map("company_name") @db.VarChar(255)
  designation            String?  @map("designation") @db.VarChar(100)
  // Event Specific Data
  attendeeType           String   @map("attendee_type") @db.VarChar(20)
  startupName            String?  @map("startup_name") @db.VarChar(255)
  udhyamRegistrationNumber String  @map("udhyam_registration_number") @db.VarChar(255)
  dpiitCertified         String?  @map("dpiit_certified") @db.VarChar(20)
  startupStage           String?  @map("startup_stage") @db.VarChar(50)
  problemStatement       String?  @map("problem_statement") @db.Text
  solution               String?  @map("solution") @db.Text
  usp                    String?  @map("usp") @db.Text
  demoLink               String?  @map("demo_link") @db.Text
  pitchDeckLink          String?  @map("pitch_deck_link") @db.Text
  createdAt              DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt              DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("ten_minute_million_participants")
}

/// Ten Minute Million Event Audience
model TenMinuteMillionAudience {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("ten_minute_million_audience")
}

/// Angel Roundtable Event Participants
model AngelRoundtableParticipant {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  // Event Specific Data
  attendeeType     String   @map("attendee_type") @db.VarChar(20)
  startupStage     String?  @map("startup_stage") @db.VarChar(50)
  problemStatement String?  @map("problem_statement") @db.Text
  solution         String?  @map("solution") @db.Text
  usp              String?  @map("usp") @db.Text
  demoLink         String?  @map("demo_link") @db.Text
  pitchDeckLink    String?  @map("pitch_deck_link") @db.Text
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("angel_roundtable_participants")
}

/// Angel Roundtable Event Audience
model AngelRoundtableAudience {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("angel_roundtable_audience")
}

/// Pitch Arena Event Participants
model PitchArenaParticipant {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  // Event Specific Data
  attendeeType     String   @map("attendee_type") @db.VarChar(20)
  startupName      String?  @map("startup_name") @db.VarChar(255)
  studentName      String?  @map("student_name") @db.VarChar(255)
  ideaBrief        String?  @map("idea_brief") @db.Text
  documentLink     String?  @map("document_link") @db.Text
  pitchDeckLink    String?  @map("pitch_deck_link") @db.Text
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("pitch_arena_participants")
}

/// Pitch Arena Event Audience
model PitchArenaAudience {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("pitch_arena_audience")
}

/// Simple Event Registrations
model SimpleEventRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("simple_event_registrations")
}

/// IPL Auction Event Registrations
model IPLAuctionRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("ipl_auction_registrations")
}

/// AI Buildathon Start Event Registrations
model AIBuildathonStartRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("ai_buildathon_start_registrations")
}

/// Design Thinking Workshop Registrations
model DesignThinkingWorkshopRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("design_thinking_workshop_registrations")
}

/// Finance Marketing Workshop Registrations
model FinanceMarketingWorkshopRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("finance_marketing_workshop_registrations")
}

/// Startup Expo Registrations (unified for both days)
model StartupExpoRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("startup_expo_registrations")
}

/// Panel Discussion Registrations
model PanelDiscussionRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("panel_discussion_registrations")
}

/// Networking Arena Registrations (unified for both days)
model NetworkingArenaRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("networking_arena_registrations")
}

/// Incubator Summit Registrations
model IncubatorSummitRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("incubator_summit_registrations")
}

/// AI Buildathon Final Registrations
model AIBuildathonFinalRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("ai_buildathon_final_registrations")
}

/// Startup League Registrations
model StartupLeagueRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("startup_league_registrations")
}

/// Data Analytics Workshop Registrations
model DataAnalyticsWorkshopRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("data_analytics_workshop_registrations")
}

/// (Merged into `StartupExpoRegistration` above)

/// (Merged into `NetworkingArenaRegistration` above)

/// Internship Fair Registrations
model InternshipFairRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("internship_fair_registrations")
}

/// Youth Conclave Registrations
model YouthConclaveRegistration {
  id               String   @id @default(uuid()) @db.Uuid
  userId           String   @map("user_id") @db.Uuid
  eventId          String   @map("event_id") @db.Uuid
  passId           String?  @map("pass_id") @db.Uuid
  registrationDate DateTime @default(now()) @map("registration_date") @db.Timestamptz(6)
  status           String   @default("registered") @db.VarChar(50)
  // User Profile Data
  fullName         String?  @map("full_name") @db.VarChar(255)
  email            String   @map("email") @db.VarChar(255)
  phone            String?  @map("phone") @db.VarChar(20)
  college          String?  @map("college") @db.VarChar(255)
  userType         String?  @map("user_type") @db.VarChar(50)
  userStartupName  String?  @map("user_startup_name") @db.VarChar(255)
  userStartupStage String?  @map("user_startup_stage") @db.VarChar(100)
  companyName      String?  @map("company_name") @db.VarChar(255)
  designation      String?  @map("designation") @db.VarChar(100)
  createdAt        DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([userId, eventId])
  @@index([userId])
  @@index([eventId])
  @@index([status])
  @@map("youth_conclave_registrations")
}

/// (Closing ceremony registrations removed - not stored separately)

/// Check-in records for events and venue entry
model CheckIn {
  id          String   @id @default(uuid()) @db.Uuid
  passId      String   @map("pass_id") @db.Uuid
  userId      String   @map("user_id") @db.Uuid
  eventId     String?  @map("event_id") @db.Uuid
  checkInTime DateTime @default(now()) @map("check_in_time") @db.Timestamptz(6)
  checkInType String   @map("check_in_type") @db.VarChar(50)
  scannedBy   String?  @map("scanned_by") @db.VarChar(255)
  location    String?  @db.VarChar(255)
  createdAt   DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  event       Event?   @relation(fields: [eventId], references: [id])
  pass        Pass     @relation(fields: [passId], references: [id])
  user        User     @relation(fields: [userId], references: [id])

  @@index([passId])
  @@index([userId])
  @@index([eventId])
  @@index([checkInTime(sort: Desc)])
  @@index([scannedBy])
  @@index([userId, eventId])
  @@index([passId, checkInTime(sort: Desc)])
  @@map("check_ins")
}

/// TCET Student Pass Codes - Pool of unique 6-digit codes for TCET students
model TcetCode {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  code       String    @unique @db.VarChar(6)
  isAssigned Boolean?  @default(false) @map("is_assigned")
  assignedTo String?   @map("assigned_to") @db.VarChar(255)
  assignedAt DateTime? @map("assigned_at") @db.Timestamptz(6)
  createdAt  DateTime? @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt  DateTime? @default(now()) @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@index([isAssigned])
  @@index([assignedTo])
  @@map("tcet_codes")
}

/// Pending pass claims - Users who uploaded ticket PDF but not yet verified
model PendingPassClaim {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  clerkUserId     String    @map("clerk_user_id") @db.VarChar(255)
  email           String    @db.VarChar(255)
  fullName        String?   @map("full_name") @db.VarChar(255)
  passType        String    @map("pass_type") @db.VarChar(100)
  bookingId       String?   @map("booking_id") @db.VarChar(255)
  konfhubOrderId  String?   @map("konfhub_order_id") @db.VarChar(255)
  ticketNumber    String?   @map("ticket_number") @db.VarChar(255)
  qrCodeData      String?   @map("qr_code_data")
  extractedData   Json?     @map("extracted_data")
  status          String    @default("pending") @db.VarChar(50) // pending, verified, expired, rejected
  verifiedAt      DateTime? @map("verified_at") @db.Timestamptz(6)
  expiresAt       DateTime  @map("expires_at") @db.Timestamptz(6) // 32 hours from creation
  createdAt       DateTime  @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt       DateTime  @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@unique([clerkUserId, bookingId])
  @@index([clerkUserId])
  @@index([status])
  @@index([expiresAt])
  @@index([bookingId])
  @@map("pending_pass_claims")
}
